(function(){"use strict";var e={933:function(e,t,a){var n=a(242),r=a(396);const i=(0,r._)("h1",null,"Exchagne rates",-1);function l(e,t,a,n,l,s){const c=(0,r.up)("my-main-page");return(0,r.wg)(),(0,r.iD)(r.HY,null,[i,(0,r.Wm)(c,{label:"App"})],64)}var s=a(139);const c=e=>((0,r.dD)("data-v-130216e7"),e=e(),(0,r.Cn)(),e),d={class:"container"},o={style:{"margin-left":"20px"}},u={style:{border:"1px solid #ccc","border-radius":"16px",display:"inline-table",float:"left"}},h=["id","checked","onChange"],g=["for"],p={style:{float:"left",padding:"10px"}},f=c((()=>(0,r._)("br",null,null,-1))),y=c((()=>(0,r._)("br",null,null,-1))),b=c((()=>(0,r._)("br",null,null,-1)));function D(e,t,a,n,i,l){const c=(0,r.up)("datepicker"),D=(0,r.up)("single-exchange-rate"),v=(0,r.up)("my-table");return(0,r.wg)(),(0,r.iD)("div",d,[(0,r._)("div",o,[(0,r._)("div",u,[(0,r.Uk)(" Select curriencies to view: "),(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.currenciesToDisplay,(e=>((0,r.wg)(),(0,r.iD)("li",{key:e.id},[(0,r._)("input",{type:"checkbox",id:e.id,checked:e.selected,onChange:t=>l.changeCheckStatus(e.id)},null,40,h),(0,r._)("label",{for:e.id,class:"big-font"},(0,s.zw)(e.name),9,g)])))),128))])]),(0,r._)("div",p,[(0,r.Wm)(c,{value:i.date,"onUpdate:modelValue":l.dateSelected},null,8,["value","onUpdate:modelValue"])])]),(0,r._)("div",null,[this.currenciesToDisplay&&this.tableExchangeRates?((0,r.wg)(),(0,r.j4)(D,{key:0,currencies:this.currenciesToDisplay,date:i.date,"exchange-rates":this.tableExchangeRates},null,8,["currencies","date","exchange-rates"])):(0,r.kq)("",!0)]),f,y,(0,r._)("div",null,[this.currenciesToDisplay&&this.tableExchangeRates?((0,r.wg)(),(0,r.j4)(v,{key:0,currencies:this.currenciesToDisplay,date:i.date,"exchange-rates":this.tableExchangeRates},null,8,["currencies","date","exchange-rates"])):(0,r.kq)("",!0)]),b,(0,r.Uk)(" Reload table data "),(0,r._)("button",{class:"button",onClick:t[0]||(t[0]=(...e)=>l.reloadTableExchangeRateData&&l.reloadTableExchangeRateData(...e))},"Reload")])}var v=a(0),x=a.n(v);const m={id:"exchagne-rates-table"},_=(0,r._)("th",null," Date ",-1);function w(e,t,a,n,i,l){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("table",m,[(0,r._)("thead",null,[(0,r._)("tr",null,[_,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.toDisplay(a.currencies),(e=>((0,r.wg)(),(0,r.iD)("th",{class:"big-font",key:e.id},(0,s.zw)(e.name),1)))),128))])]),(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.exchangeRates,(e=>((0,r.wg)(),(0,r.iD)("tr",{key:e.id},[(0,r._)("td",null,(0,s.zw)(e.date),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.toDisplay(a.currencies),(t=>((0,r.wg)(),(0,r.iD)("td",{key:t.id},(0,s.zw)(e[t.name]),1)))),128))])))),128))])])])}var k={name:"MyTable",props:{currencies:{required:!0,type:Array},exchangeRates:{required:!0,type:Array}},data(){return{currenciesToDisplay:[],tableExchangeRates:[]}},methods:{toDisplay(e){return e.filter((e=>e.selected))}}},E=a(89);const R=(0,E.Z)(k,[["render",w]]);var T=R;const C={style:{display:"inline-flex",float:"right"}},S={style:{"padding-right":"10px"}},O={class:"big-font"};function Y(e,t,a,n,i,l){return(0,r.wg)(),(0,r.iD)("div",C,[(0,r._)("div",S,[(0,r.Uk)(" Reload single "),(0,r._)("button",{class:"button",onClick:t[0]||(t[0]=(...e)=>l.reloadExchangeRateData&&l.reloadExchangeRateData(...e))},"Reload")]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.toDisplay(i.displayCurrencies),(e=>((0,r.wg)(),(0,r.iD)("div",{class:"listing-element",key:e.id},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.data.slice(0,1),(t=>((0,r.wg)(),(0,r.iD)("div",{key:t.id},[(0,r._)("div",O,(0,s.zw)(e.name),1),(0,r.Uk)(" "+(0,s.zw)(t[e.name]),1)])))),128))])))),128))])}var j=a(161),M={name:"SingleExchangeRate",props:{currencies:{required:!0,type:Array},exchangeRates:{required:!0,type:Array},date:{required:!0,type:String}},data(){return{displayDate:this.date,displayCurrencies:this.currencies,data:this.exchangeRates}},methods:{reloadExchangeRateData(){j.Z.get("http://127.0.0.1:8000/v0/exchange-rates?date_from="+this.date+"&date_to="+this.date+"&order_by=DESC").then((e=>{this.data=e.data.data}))},toDisplay(e){return e.filter((e=>e.selected))}}};const q=(0,E.Z)(M,[["render",Y]]);var U=q,Z=a(536),H=a(743),z=a.n(H),A={name:"MyMainPage",components:{MyTable:T,SingleExchangeRate:U,Datepicker:Z.Z},props:{label:{required:!0,type:String}},data(){return{date:null,id:x()("checkbox-"),currenciesToDisplay:null,tableExchangeRates:null,dateBegin:null,dateEnd:null,backendUrl:null}},methods:{changeCheckStatus(e){const t=this.currenciesToDisplay.find((t=>t.id===e));t.selected=!t.selected},getCurrencies(){j.Z.get("http://127.0.0.1:8000/v0/exchange-rates/available-currencies").then((e=>{this.currenciesToDisplay=e.data.currencies,this.currenciesToDisplay=this.currenciesToDisplay.map((e=>({id:e.id,name:e.name,selected:!0})))}))},reloadTableExchangeRateData(){this.tableExchangeRates=null,j.Z.get("http://127.0.0.1:8000/v0/exchange-rates?date_from="+this.dateBegin+"&date_to="+this.dateEnd+"&order_by=DESC").then((e=>{this.tableExchangeRates=e.data.data,this.tableExchangeRates=this.tableExchangeRates.map((e=>({id:e.id,date:e.date.split("T")[0],eur:e.eur,usd:e.usd,gbp:e.gbp,jpy:e.jpy})))}))},dateSelected(e){this.date=e,this.date=this.formatData(this.date)},formatData(e){const t=z()(e);return t.format("YYYY-MM-DD")}},created(){this.date=new Date,this.dateEnd=new Date,this.dateBegin=new Date(Date.now()-24192e5).toISOString().substring(0,10),this.date=this.formatData(this.date),this.dateEnd=this.formatData(this.dateEnd),this.dateBegin=this.formatData(this.dateBegin),this.getCurrencies(),this.reloadTableExchangeRateData()},beforeCreate(){this.backendUrl="http://127.0.0.1:8000/v0"}};const K=(0,E.Z)(A,[["render",D],["__scopeId","data-v-130216e7"]]);var B=K,P={name:"App",components:{MyMainPage:B}};const I=(0,E.Z)(P,[["render",l]]);var V=I;(0,n.ri)(V).mount("#app")}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,n,r,i){if(!n){var l=1/0;for(o=0;o<e.length;o++){n=e[o][0],r=e[o][1],i=e[o][2];for(var s=!0,c=0;c<n.length;c++)(!1&i||l>=i)&&Object.keys(a.O).every((function(e){return a.O[e](n[c])}))?n.splice(c--,1):(s=!1,i<l&&(l=i));if(s){e.splice(o--,1);var d=r();void 0!==d&&(t=d)}}return t}i=i||0;for(var o=e.length;o>0&&e[o-1][2]>i;o--)e[o]=e[o-1];e[o]=[n,r,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,l=n[0],s=n[1],c=n[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(c)var o=c(a)}for(t&&t(n);d<l.length;d++)i=l[d],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(o)},n=self["webpackChunkrecruit_exchange_rates_frontend"]=self["webpackChunkrecruit_exchange_rates_frontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(933)}));n=a.O(n)})();
//# sourceMappingURL=app.69c28047.js.map